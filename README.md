λ³Έ λ ν¬μ§€ν† λ¦¬λ” AAAI 2022μ— κ²μ¬λ λ…Όλ¬Έ  
**β€FedFR: Joint Optimization Federated Framework for Generic and Personalized Face Recognitionβ€**  
(https://arxiv.org/abs/2112.12496)μ„ κΈ°λ°μΌλ΅ ν• κ²½λ‰ μ¬κµ¬ν„ λ²„μ „μ…λ‹λ‹¤.

λ³Έ ν”„λ΅μ νΈλ” **μ•„λ‚μ½λ‹¤(Conda) κΈ°λ° Python ν™κ²½μ—μ„ μ‹¤ν–‰λλ„λ΅ κµ¬μ„±**λμ—μΌλ©°,  
GPUκ°€ μ—†λ” ν™κ²½ λλ” μ ν•λ μμ›μ—μ„λ„ μ‹¤ν–‰ κ°€λ¥ν• λ‹¨μν™”λ FedFR ν•™μµ νμ΄ν”„λΌμΈμ„ μ κ³µν•©λ‹λ‹¤.  
μ—°κµ¬Β·κµμ΅ λ©μ μ μ¬ν„μ„ λ©ν‘λ΅ ν•λ©°, μ› λ…Όλ¬Έμ λ€κ·λ¨ μ‹¤ν— ν™κ²½ μ „μ²΄λ¥Ό μν–‰ν•μ§€λ” μ•μµλ‹λ‹¤.


---

## π€ ν”„λ΅μ νΈ μ£Όμ” νΉμ§•

- μ•„λ‚μ½λ‹¤ κΈ°λ° Python ν™κ²½μ—μ„ μ†μ‰½κ² μ‹¤ν–‰ κ°€λ¥
- FedFR κµ¬μ΅°λ¥Ό λ°μν• **Federated Learning ν•™μµ λ£¨ν”„ κµ¬ν„**
- **Global + Personalized λ¨λΈ κµ¬μ΅° λ°μ**
- **VGGFace2 λ°μ΄ν„°λ¥Ό 40κ° ν΄λΌμ΄μ–ΈνΈ / 4000 IDλ΅ Federated Split**
- CPU ν™κ²½μ—μ„λ„ κµ¬λ™ κ°€λ¥ν•λ„λ΅ κ²½λ‰ν™”
- **LFW Generic Evaluation μ§€μ›**

## π“‚ Federated Data Split (VGGFace2 κΈ°λ°)

λ³Έ ν”„λ΅μ νΈλ” **VGGFace2 λ°μ΄ν„°μ…‹μ„ κΈ°λ°μΌλ΅ Federated Learningμ© λ°μ΄ν„°λ¥Ό μƒμ„±**ν–μµλ‹λ‹¤.  
μ•„λ μ¤ν¬λ¦½νΈλ¥Ό μ‚¬μ©ν•μ—¬ **40λ…μ ν΄λΌμ΄μ–ΈνΈ / 4000λ…μ ID**λ΅ λ¶„ν• ν•μ€μµλ‹λ‹¤.

> β οΈ λ‹¨, **`--num_client`μ™€ `--num_ID` κ°’μ€ μ‚¬μ©μ ν™κ²½μ— λ§κ² μ΅°μ •ν•μ—¬ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.**  
> λ” λ§μ€ ν΄λΌμ΄μ–ΈνΈλ΅ λ‚λ„κ±°λ‚, λ” μ μ€ IDλ§ μ‚¬μ©ν•  μλ„ μμµλ‹λ‹¤.
### π”§ μ‚¬μ©ν• Split λ…λ Ήμ–΄

```bash
python d:/FedFR-RE/split_dataset/split_FL.py \
    --data_dir "D:/FedFR-RE/data/vggface2" \
    --output_dir "D:/FedFR-RE/data/split" \
    --num_client 40 \
    --num_ID 4000

λ³Έ ν”„λ΅μ νΈλ” μ•„λ‚μ½λ‹¤(Conda) ν™κ²½μ—μ„ λ‹¤μκ³Ό κ°™μ΄ μ„¤μ •ν–μµλ‹λ‹¤.
1) Conda ν™κ²½ μƒμ„±
conda create -n fedfr python=3.8
2) ν™κ²½ ν™μ„±ν™”
conda activate fedfr


π‹οΈ ν•™μµ μ‹¤ν–‰ λ°©λ²•
python train.py --lr 0.003 --num_client 40 --local_epoch 1 --total_round 5
β οΈ num_client, local_epoch, total_round λ“±μ€ μ‚¬μ©μ ν™κ²½μ— λ§κ² μμ λ΅­κ² λ³€κ²½ κ°€λ¥ν•©λ‹λ‹¤.
μ: λΌμ΄λ“ μλ¥Ό μ¦κ°€μ‹ν‚¤λ©΄ ν•™μµ μλ ΄μ΄ κ°μ„ λλ©°, ν΄λΌμ΄μ–ΈνΈ μ μ΅°μ μ„ ν†µν•΄ FL μ‹¤ν— κ·λ¨λ¥Ό μ†μ‰½κ² λ³€κ²½ν•  μ μμµλ‹λ‹¤.

π“ μ„±λ¥ ν‰κ°€ (LFW)

λ³Έ μ¬κµ¬ν„ λ²„μ „μ€ LFW κΈ°λ° Generic Embedding μ„±λ¥ ν‰κ°€λ§ μ κ³µν•©λ‹λ‹¤.

1) μ§§μ€ ν•™μµ (Short Training)

λ¦¬μ†μ¤ μ μ•½μΌλ΅ μΈν•΄ μ•½ 5 λΌμ΄λ“ μμ¤€μ FL ν•™μµλ§ μν–‰ν–μµλ‹λ‹¤.

2) IJB-C ν‰κ°€ λ―Έμ§€μ›

IJB-C Benchmarkλ”:

λ³µμ΅ν• ν‰κ°€ ν”„λ΅ν† μ½

λ€κ·λ¨ λ©”λ¨λ¦¬ ν•„μ”
λ“±μ μ΄μ λ΅ ν¬ν•¨ν•μ§€ λ»ν–μµλ‹λ‹¤.

3) DFC λ¨λ“ λ―Έκµ¬ν„

λ…Όλ¬Έμ κ³ κΈ‰ κΈ°λ¥μΈ DFC(Decomposed Feature Calibration)λ” λ³µμ΅μ„± λ° λ©”λ¨λ¦¬ λ¬Έμ λ΅ μ μ™Έν–μµλ‹λ‹¤.

4) λ°μ΄ν„° κ·λ¨ μ¶•μ†

μ›λ³Έ FedFR μ‹¤ν— λ€λΉ„ 4000 ID μ •λ„μ μ¶•μ†λ λ°μ΄ν„°λ§ μ‚¬μ©ν–μµλ‹λ‹¤.
